# About this repository

This is a special repository, it is named after the github user. The content of the README.md file for this repository is displayed in my github profile, by virtue of a github convention.

The content of the README.md file is generated by a build script, [build-local.sh](https://github.com/MoserMichael/MoserMichael/blob/master/build-local.sh)

The generated readme consists of the following:
- An Ascii drawing of a cow cartoon with a fortune cookie, where the mood of the cow is determined by sentiment analysis on the fortune cookie (see [opinionated fortune cow](https://github.com/MoserMichael/opinionated-fortune-cow))
- A blurb about the author of this stuff.
- Some content derived from the owners repositories by means of the [githubapitools](https://github.com/MoserMichael/opinionated-fortune-cow)
    -  A summary of the repositories, sorted by number of stars
    -  Links to a generated traffic report
    -  Link to a generated page listing the repositories starred by the author

## Configuration 

The build script [build-local.sh](https://github.com/MoserMichael/MoserMichael/blob/master/build-local.sh) runs a docker build, and runs the build process for the readme in the docker, then checks in and pushes the modified readme to the git repository. The script requires the presence of the following environment variables.

- GITHUR_USER -  the name of the github user
- GITHUB_TOKEN -  a special github token, with enough permissions for accessing the [github api](https://docs.github.com/en/rest). I didn't manage to figure out the exact set of required permissions, so I generated a github token with all possible permissions. The token also needs write permission, as it is used to push the generated README.md to the repository.

Note that there are the following static files, that probably need customization, if you want to adjust and use this repository for your purpose.

- [start_part.txt](https://github.com/MoserMichael/MoserMichael/blob/master/start_part.txt)
- [common_part.txt](https://github.com/MoserMichael/MoserMichael/blob/master/common_part.txt)
- [end_part.txt](https://github.com/MoserMichael/MoserMichael/blob/master/end_part.txt)
- you will need to delete the starcounter.data file from the repository after cloning this stuff.

## Github Action 

The build script is also run once a day as a [github action](https://docs.github.com/en/actions/learn-github-actions/workflow-syntax-for-github-actions) - as a continuous integration process, hosted by our (hopefully) benevolent hosts at github.

The above mentioned github token must be defined as a github secret of the name MY_GITHUB_TOKEN, for this to work.

Note that the github action is not run on check-ins/modification of the repository, this would have created a loop, that runs itself over and over again. The action is defined to run as a github action, instead.

The build.sh script is cloning the following repositories while it is run in the docker:
- [opinionated fortune cow](https://github.com/MoserMichael/opinionated-fortune-cow)
- [githubapitools](https://github.com/MoserMichael/opinionated-fortune-cow)



